---
layout: compress
---

<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'pt-BR' }}">
  {% include header.html %}
  <body data-theme="{{ site.mode }}" class="notransition">
    <script>
      const body = document.body;
      const data = body.getAttribute("data-theme");

      const initTheme = (state) => {
        if (state === "dark") {
          body.setAttribute("data-theme", "dark");
        } else if (state === "light") {
          body.removeAttribute("data-theme");
        } else {
          localStorage.setItem("theme", data);
        }
      };

      initTheme(localStorage.getItem("theme"));
      setTimeout(() => body.classList.remove("notransition"), 75);
    </script>

    {% include navbar.html %}

    <div class="wrapper">
      <main aria-label="Content">
        <section class="not-found">
          <div class="container" id="not-found-container">
            <!-- Conteúdo padrão que será substituído pelo JavaScript -->
            <h1 class="title">404</h1>
            <p class="phrase">A página que você procura não foi encontrada.</p>
            <a class="solution" href="/">Voltar para a página inicial</a>

            <noscript>
              <style>
                .js-content {
                  display: none;
                }
              </style>
              <div class="noscript-content">
                <h1 class="title">404</h1>
                <p class="phrase">
                  Por favor, ative o JavaScript para melhor experiência ou use
                  os links de navegação.
                </p>
                <a class="solution" href="/">Voltar para a página inicial</a>
              </div>
            </noscript>
          </div>
        </section>
      </main>
    </div>

    <script>
      window.addEventListener("DOMContentLoaded", function () {
        const container = document.getElementById("not-found-container");

        if (!container) {
          console.error("Container not-found-container não encontrado");
          return;
        }

        // Detectar se é versão em inglês
        const isEnglish =
          window.location.pathname.startsWith("/en") ||
          window.location.search.includes("lang=en") ||
          document.documentElement.lang === "en";

        const html = isEnglish
          ? `
          <h1 class="title">404</h1>
          <p class="phrase">The page you're looking for doesn't exist.</p>
          <a class="solution" href="/en">Back to home</a>
        `
          : `
          <h1 class="title">404</h1>
          <p class="phrase">A página que você procura não foi encontrada.</p>
          <a class="solution" href="/">Voltar para a página inicial</a>
        `;

        // Substituir o conteúdo
        container.innerHTML = html;

        // Adicionar focus no título para acessibilidade
        const title = container.querySelector("h1");
        if (title) {
          title.setAttribute("tabindex", "-1");
          title.focus();
        }

        // Log para debug
        console.log("Página 404 carregada com sucesso", {
          isEnglish,
          pathname: window.location.pathname,
        });
      });
    </script>
    <script src="/assets/js/main.js" defer></script>
  </body>
</html>
